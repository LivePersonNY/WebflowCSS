!function(t){jQuery.fn.widowFix=function(i){var n=t.extend({letterLimit:null,prevLimit:null,linkFix:!1,dashes:!1},i);if(this.length)return this.each(function(){var i,e=t(this);if(n.linkFix){var r=e.find("a:last");r.wrap("<var>");var l=t("var").html();i=r.contents()[0],r.contents().unwrap()}var h=t(this).html().split(" "),a=h.pop();if(!(h.length<=1)){(function t(){""===a&&(a=h.pop(),t())})(),n.dashes&&t.each(["-","–","—"],function(t,i){if(a.indexOf(i)>0)return a='<span style="white-space:nowrap;">'+a+"</span>",!1});var s=h[h.length-1];if(n.linkFix){if(null!==n.letterLimit&&i.length>=n.letterLimit)return void e.find("var").each(function(){t(this).contents().replaceWith(l),t(this).contents().unwrap()});if(null!==n.prevLimit&&s.length>=n.prevLimit)return void e.find("var").each(function(){t(this).contents().replaceWith(l),t(this).contents().unwrap()})}else{if(null!==n.letterLimit&&a.length>=n.letterLimit)return;if(null!==n.prevLimit&&s.length>=n.prevLimit)return}var u=h.join(" ")+"&nbsp;"+a;e.html(u),n.linkFix&&e.find("var").each(function(){t(this).contents().replaceWith(l),t(this).contents().unwrap()})}})}}(jQuery),$("h1, h2, h3, h4, h5, p, li").widowFix({letterLimit:9,prevLimit:8});