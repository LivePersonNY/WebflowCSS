function setProgress(e,t,r,a){var s=document.querySelector(t),l=document.querySelector(t+"-val"),c=document.querySelector(t+"-cap"),o=2*s.r.baseVal.value*Math.PI;s.style.strokeDasharray=`${o} ${o}`,s.style.strokeDashoffset=`${o}`;const n=o-e/100*o;l.innerHTML=r||numberShort(e),c.innerHTML=a||"Savings",s.style.strokeDashoffset=n}function numberShort(e){return e<1e3?numberShortFormat(e,""):e<1e6?numberShortFormat((e/1e3).toFixed(),"K"):e<1e7?numberShortFormat((e/1e6).toFixed(1),"M"):e<1e9?numberShortFormat((e/1e6).toFixed(),"M"):e<1e10?numberShortFormat((e/1e9).toFixed(1),"B"):e<1e12?numberShortFormat((e/1e9).toFixed(),"B"):numberShortFormat(e,"")}function numberShortFormat(e,t){return e.toString().replace(/^0\./,".")+t}$(".jqslider-styles").each(function(){var e=$(this).data("min"),t=$(this).data("max"),r=$(this).data("step"),a=$(this).data("value");$(this).slider({range:"min",min:parseFloat(e),max:parseFloat(t),step:parseFloat(r),value:parseFloat(a),slide:function(e,t){$("#"+$(this).attr("id")+"-value").val(t.value),updateChart()}})}),$(".slider-value").each(function(){$(this).val($("#"+$(this).data("slider-ref")).slider("value")),$(this).on("input",function(){$("#"+$(this).data("slider-ref")).slider("value",$(this).val()),updateChart()})}),ROICalc.init({inputs:{event:"input"}});var updateChart=async function(){await Promise.all([ROICalc.model.updateAll(),ROICalc.model.calculate.sales.run(),ROICalc.model.calculate.care.run(),ROICalc.model.calculate.totals.run()]);var e=0,t=[{name:"#two",numbers:[ROICalc.results.totals.growth.year1,ROICalc.results.totals.savings.year1,ROICalc.results.totals.growth.year2,ROICalc.results.totals.savings.year2,ROICalc.results.totals.growth.year3,ROICalc.results.totals.savings.year3],totals:[ROICalc.results.totals.total_benefit.year1,ROICalc.results.totals.total_benefit.year2,ROICalc.results.totals.total_benefit.year3]}],r=ROICalc.results.totals.total_benefit.year1+ROICalc.results.totals.total_benefit.year2+ROICalc.results.totals.total_benefit.year3,a=ROICalc.results.sales.increase.year1+ROICalc.results.sales.increase.year2+ROICalc.results.sales.increase.year3,s=ROICalc.results.sales.average_order_value.year1+ROICalc.results.sales.average_order_value.year2+ROICalc.results.sales.average_order_value.year3,l=ROICalc.results.care.fcr.year1+ROICalc.results.care.fcr.year2+ROICalc.results.care.fcr.year3,c=ROICalc.results.care.efficiency.year1+ROICalc.results.care.efficiency.year2+ROICalc.results.care.efficiency.year3,o=ROICalc.results.care.ai_scale.year1+ROICalc.results.care.ai_scale.year2+ROICalc.results.care.ai_scale.year3;setProgress((a/r*100).toFixed(),"#circle1",numberShort(a),"Growth"),setProgress((s/a*100).toFixed(),"#circle2",numberShort(s),"Growth"),setProgress((l/r*100).toFixed(),"#circle3",numberShort(l),"Growth"),setProgress((o/r*100).toFixed(),"#circle4",numberShort(o),"Savings"),setProgress((c/c*100).toFixed(),"#circle5",numberShort(c),"Savings"),$("#text_total_benefit").text("$"+numberShort(r)),$("#text_year1").text("$"+numberShort(ROICalc.results.totals.total_benefit.year1)),$("#text_year2").text("$"+numberShort(ROICalc.results.totals.total_benefit.year2)),$("#text_year3").text("$"+numberShort(ROICalc.results.totals.total_benefit.year3)),$("#text-incr").text("$"+numberShort(a)),$("#text-ai-savings").text("$"+numberShort(o)),$("#text-efficiency").text("$"+numberShort(c)),$("#cost-per-convo-phone").text("$"+numberShort(ROICalc.model.inputs["care-cost-per-call"].toFixed())),$("#cost-per-convo-mess").text("$"+numberShort((ROICalc.model.inputs["care-cost-per-call"]/ROICalc.model.calculate.care.increments.year3.eff_ratio).toFixed())),$("#rev-baseline").text("$"+numberShort(ROICalc.results.sales.increase.baseline)),$("#rev-year1").text("$"+numberShort(ROICalc.results.sales.increase.year1)),$("#rev-year2").text("$"+numberShort(ROICalc.results.sales.increase.year2)),$("#rev-year3").text("$"+numberShort(ROICalc.results.sales.increase.year3)),$("#inc-baseline").text("$"+numberShort(ROICalc.results.sales.average_order_value.baseline)),$("#inc-year1").text("$"+numberShort(ROICalc.results.sales.average_order_value.year1)),$("#inc-year2").text("$"+numberShort(ROICalc.results.sales.average_order_value.year2)),$("#inc-year3").text("$"+numberShort(ROICalc.results.sales.average_order_value.year3)),$("#fcr-baseline").text("$"+numberShort(ROICalc.results.care.fcr.baseline)),$("#fcr-year1").text("$"+numberShort(ROICalc.results.care.fcr.year1)),$("#fcr-year2").text("$"+numberShort(ROICalc.results.care.fcr.year2)),$("#fcr-year3").text("$"+numberShort(ROICalc.results.care.fcr.year3)),$("#mess-baseline").text("$"+numberShort(ROICalc.results.care.fcr.baseline)),$("#mess-year1").text("$"+numberShort(ROICalc.results.care.fcr.year1)),$("#mess-year2").text("$"+numberShort(ROICalc.results.care.fcr.year2)),$("#mess-year3").text("$"+numberShort(ROICalc.results.care.fcr.year3)),$("#eff-baseline").text("$"+numberShort(ROICalc.results.care.efficiency.baseline)),$("#eff-year1").text("$"+numberShort(ROICalc.results.care.efficiency.year1)),$("#eff-year2").text("$"+numberShort(ROICalc.results.care.efficiency.year2)),$("#eff-year3").text("$"+numberShort(ROICalc.results.care.efficiency.year3)),setTimeout(function(){$("#two .bar").each(function(e){var r=(t[0].numbers[e]/1e6).toFixed(2),a=5.5*r;$(this).css({height:a+"%"}),$(this).find(".tooltip").text("$"+r+"M")}),$("#two .total-year-benefit").each(function(r){e+=t[0].totals[r];var a=(t[0].totals[r]/1e6).toFixed(2);$(this).text("$"+a+"M");var s=(e/1e6).toFixed(2);$("#two .estimated-total-benefit").text("$"+s+"M")})},500)};function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}$(".industry-select").change(function(){var e=$(this).find(":selected").data("sales-conv-rate"),t=$(this).find(":selected").data("sales-avg-order"),r=$(this).find(":selected").data("care-cost-per-call"),a=$(this).find(":selected").data("care-contact-resolution");$("#slider2-value").val(e),$("#slider2").slider("value",e),$("#slider3-value").val(t),$("#slider3").slider("value",t),$("#slider5-value").val(r),$("#slider5").slider("value",r),$("#slider6-value").val(a),$("#slider6").slider("value",a),ROICalc.init(),updateChart()}),updateChart();