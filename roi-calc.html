<html>

<head>
    <link href="https://assets-global.website-files.com/5fd12c44f4b20161bb3602da/css/homepage-38cf40.f26a9ea35.min.css"
        rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/assets/css/www-main.css" />

    <script src="/assets/js/main.js" type="text/javascript"></script>

</head>

<style>
    .slide-container {
        width: 100%;
    }


    .jqslider-styles.ui-slider {
        height: 15px;
        background: #2E305F;
        opacity: 0.7;
        -webkit-transition: .2s;
        transition: opacity .2s;
        border-radius: 5px;
        border: 0;
    }

    .jqslider-styles.ui-slider:hover {
        opacity: 1;
    }

    .jqslider-styles.ui-slider .ui-slider-range {
        background: #ff6900;
    }

    .jqslider-styles.ui-slider .ui-slider-handle {
        width: 25px;
        height: 25px;
        background: #fcfcfd;
        cursor: pointer;
        border-radius: 50%;
        outline: none;
    }

    .slider-value {
        -webkit-appearance: none;
        appearance: none;
        background: none;
        border: 0;
        margin-bottom: 6px;
        margin-top: 20px;
    }

    .contain {
    overflow: hidden;
    max-width: 1080px;
    margin: 0 auto;
}
.bar-chart {

}
.bar-chart p {
	text-align: center;
	margin: .5em 0 1em;
}
.bar-chart .row {
	position: relative;
	line-height: 1.25em;
	margin-bottom: 3em;
	/* height: 200px; */
}
.bar-chart .row .segment {
    flex: 1 100%;
    display: block;
    position: relative;
    align-self: flex-end;
}
.bar-chart .row .segment:before {
	content: "";
	display: block;
	width: 100%;
	bottom: 0;
	position: absolute;
	height: 1px;
	background-color: #414245;
  	z-index: -1;
}
.bar-chart .label {
	display: block;
	font-size: .85em;
}
/* X Axis */
.bar-chart .x-axis {
  display: flex;
  height: 100%
}
.bar-chart .x-axis .year {
    flex: 1;
}
.bar-chart .x-axis .year .col {
    display: flex;
    height: 100%;
    flex-flow: column-reverse;
    margin: 0 14%;
}
.bar-chart .x-axis .year .col .bar {
    /* flex: 1; */
    background-color: #005EF4;
    /* align-self: flex-end; */
	position: relative;
	/* margin: 0 25%; */
  height: 0px;
  -webkit-transition: height, 1s ease;
	-moz-transition: height, 1s ease;
	-ms-transition: height, 1s ease;
	transition: height, 1s ease;
    display:flex;
    justify-content: center;
    align-items: center;
}
.bar-chart .x-axis .year .col .bar + .bar {
    background-color: #ff6900;
}
.bar-chart .x-axis .label {
  align-self: flex-end;
	padding: .5em 0 0;
  line-height: 1em;
  text-align: center;
}
.bar-chart .x-axis .label:not(.number) {
  color: #fff;
  text-transform: uppercase;
  padding-top: 1em;
  font-size: .875em;
}
.bar-chart .x-axis .year .col .bar .tooltip,
.bar-chart .x-axis .year .col .bar .tooltip:after {
    display: block;
    position: absolute;
	z-index: 2;
	left: 50%;
	-webkit-transform: translateX(-50%);
	-moz-transform: translateX(-50%);
	-ms-transform: translateX(-50%);
	transform: translateX(-50%);
}
.bar-chart .x-axis .year .col .bar .tooltip {
    font-size: 20px;
    color: #fcfcfd;
    padding: 0;
    font-family: 'Roboto Mono', 'monospace';
    text-align:center;
}

/* Legend */
.bar-chart .legend {
    margin: 0 auto;
  text-align: center;
    padding: 0;
	font-size: .875em;
}
.bar-chart .legend li {
    display: inline-block;
    padding: .25em 1em;
    line-height: 1em;
}
.bar-chart .legend li:before {
    content: "";
    margin-right: .5em;
    display: inline-block;
    width: 8px;
    height: 8px;
	background-color: #ff6900;
}
.bar-chart .legend li:nth-child(2):before {
	background-color: #005EF4;
}
</style>

<body>

    <h1>roi calc</h1>

    <div style="width:1080px;margin:auto">
        <div style="width:500px;margin:auto;float:left;">
            <div class="slide-container">

                <input class="slider-value" id="slider1-value" data-slider-ref="slider1" data-roi="sales-traffic">
                <div id="slider1" class="jqslider-styles" data-min="1000000" data-max="100000000" data-value="50000000"
                    data-step="10000"></div>

                <input class="slider-value" id="slider2-value" data-slider-ref="slider2" data-roi="sales-conv-rate">
                <div id="slider2" class="jqslider-styles" data-min="0" data-max="10" data-value=".50" data-step=".01">
                </div>

                <input class="slider-value" id="slider3-value" data-slider-ref="slider3" data-roi="sales-avg-order">
                <div id="slider3" class="jqslider-styles" data-min="0" data-max="500" data-value="100" data-step=".01">
                </div>

                <input class="slider-value" id="slider4-value" data-slider-ref="slider4" data-roi="care-call-volume">
                <div id="slider4" class="jqslider-styles" data-min="1000000" data-max="100000000" data-value="10000000"
                    data-step="10000"></div>

                <input class="slider-value" id="slider5-value" data-slider-ref="slider5" data-roi="care-cost-per-call">
                <div id="slider5" class="jqslider-styles" data-min="0" data-max="50" data-value="6" data-step=".01">
                </div>

                <input class="slider-value" id="slider6-value" data-slider-ref="slider6"
                    data-roi="care-contact-resolution">
                <div id="slider6" class="jqslider-styles" data-min="0" data-max="100" data-value="70" data-step=".01">
                </div>


            </div>

            <div style="border:1px solid red; margin:20px 0">
                <p>Sales increase: <span data-roi="sales-increase-year1"></span></p>
                <p>Sales average order: <span data-roi="sales-avg-order-year1"></span></p>
                <p>Care fcr: <span data-roi="care-fcr-year1"></span></p>
                <p>Care ai scale: <span data-roi="care-ai-scale-year1"></span></p>
                <p>Care efficiency: <span data-roi="care-efficiency-year1"></span></p>

                <p>Total savings Y1: <span data-roi="total-savings-year1"></span></p>
                <p>Total growth Y1: <span data-roi="total-growth-year1"></span></p>
                <p>Total benefit Y1: <span data-roi="total-total-benefit-year1"></span></p>

                <p>Total savings Y2: <span data-roi="total-savings-year2"></span></p>
                <p>Total growth Y2: <span data-roi="total-growth-year2"></span></p>
                <p>Total benefit Y2: <span data-roi="total-total-benefit-year2"></span></p>

                <p>Total savings Y3: <span data-roi="total-savings-year3"></span></p>
                <p>Total growth Y3: <span data-roi="total-growth-year3"></span></p>
                <p>Total benefit Y3: <span data-roi="total-total-benefit-year3"></span></p>
            </div>
        </div>
        <div style="width:500px;margin:auto;float:left;margin-left:80px;height:870px">

            <figure id="two" class="bar-chart">
                <p>Estimated Total Benefit</p>

                <div class="row bars">
                    <div class="x-axis">
                        <div class="year wrap">
                            <div class="col">
                                <span class="bar">
                                    <span class="tooltip"></span>
                                </span>
                                <span class="bar">
                                    <span class="tooltip"></span>
                                </span>
                                <p class="total-year-benefit"></p>
                            </div>
                            <span class="label">2019</span>
                        </div>
                        <div class="year wrap">
                            <div class="col">
                                <span class="bar">
                                    <span class="tooltip"></span>
                                </span>
                                <span class="bar">
                                    <span class="tooltip"></span>
                                </span>
                                <p class="total-year-benefit"></p>
                            </div>
                            <span class="label">2020</span>
                        </div>
                        <div class="year wrap">
                            <div class="col">
                                <span class="bar">
                                    <span class="tooltip"></span>
                                </span>
                                <span class="bar">
                                    <span class="tooltip"></span>
                                </span>
                                <p class="total-year-benefit"></p>
                            </div>
                            <span class="label">2021</span>
                        </div>
                    </div>
                </div>

                <ul class="legend">
                    <li>Cost savings</li>
                    <li>Revenue growth</li>
                </ul>

            </figure>

        </div>
    </div>



    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5fd12c44f4b20161bb3602da"
        type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
    </script>

    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>


    <script>

        $('.jqslider-styles').each(function () {
            var sliderMin = $(this).data('min');
            var sliderMax = $(this).data('max');
            var sliderStep = $(this).data('step');
            var sliderValue = $(this).data('value');
            $(this).slider({
                range: 'min',
                min: parseFloat(sliderMin),
                max: parseFloat(sliderMax),
                step: parseFloat(sliderStep),
                value: parseFloat(sliderValue),
                slide: function (event, ui) {
                    $('#' + $(this).attr('id') + '-value').val(ui.value);
                    updateChart();
                    ROICalc.model.updateAll();
                    ROICalc.model.calculate.sales.run();
                    ROICalc.model.calculate.care.run();
                    ROICalc.model.calculate.totals.run();
                }
            });
        })

        $('.slider-value').each(function () {
            $(this).val($('#' + $(this).data('slider-ref')).slider('value'));
            $(this).on('input', function () {
                $('#' + $(this).data('slider-ref')).slider('value', $(this).val());
                updateChart();
            })
        })

        ROICalc.init({
            inputs: {
                event: 'input'
            }
        });

        var updateChart = function(){ 

            //$('#two .bar .tooltip').remove();

            var oneObj = {
                element: [{
                    name: "#two",
                    numbers: [ROICalc.results.totals.growth.year1, ROICalc.results.totals.savings.year1, ROICalc.results.totals.growth.year2, ROICalc.results.totals.savings.year2, ROICalc.results.totals.growth.year3, ROICalc.results.totals.savings.year3],
                    totals: [ROICalc.results.totals.total_benefit.year1, ROICalc.results.totals.total_benefit.year2, ROICalc.results.totals.total_benefit.year3]
                }]
            }

            setTimeout(function () {
                $('#two .bar').each(function (index) {
                    // To better represent % of height
                    var numberAlter = (oneObj.element[0].numbers[index] / 1000000).toFixed(2);
                    var numbersFull = numberAlter * 5.5;
                    $(this).css({
                        'height': numbersFull + '%'
                    });
                    // Create tooltip
                    $(this).find('.tooltip').text('$' + numberAlter + 'M');
                    // $('<span class="tooltip">' + oneObj.element[0].numbers[index] + 'M</span>')
                    //     .prependTo(this);
                });

                $('#two .total-year-benefit').each(function (year) {
                    var numberAlter = (oneObj.element[0].totals[year] / 1000000).toFixed(2);
                    $(this).text('$' + numberAlter + 'M');
                });

                

            }, 500);
        }

        updateChart();

        // Total growth on bottom blue
        // Total savings on top orange
        // Total benefit is the sum white number on top
    </script>


</body>

</html>